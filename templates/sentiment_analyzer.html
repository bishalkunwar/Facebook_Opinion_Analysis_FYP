<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <title>Home</title>

    <style>
        input:invalid {
            border: 2px dashed red;
        }
        
        input:invalid:required {
            background-image: linear-gradient(to right, pink, lightgreen);
        }
        
        input:valid {
            border: 2px solid black;
        }
    </style>

</head>

<body class="bg-nav">
    <!-- code for the navigation header bar-->

    <header style="height: 80px" class="navbar navbar-dark sticky-top bg-nav flex-md-nowrap p-0 shadow">
        <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" style="font-size: 30px; font-weight: bold" href="#">Facebook Opinion Analysis</a>
        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
        <nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
            <a class="me-3 py-2 text-decoration-none text-light" style="font-size: 20px" href="/sentiment_analyzer">S Analyse</a>
            <a class="me-3 py-2 text-light text-decoration-none" style="font-size: 20px" href="/home">Home</a>
        </nav>
        <ul class="navbar-nav px-3">
            <li class="nav-item text-nowrap">
                <a class="nav-link text-dark card" style="font-size: 20px; padding: 3px" href="/logout">Sign out</a>
            </li>
        </ul>
    </header>

    <div class="container">
        <div class="row">
            <div class="card mt-100" style="margin-top: 50px">
                <div class="card-body">
                    <form method="post" action="/sentiment_analyzer" enctype="multipart/form-data">

                        <div class="mb-3">
                            <label for="file" class="form-label">Upload your Facebook Comments File Here</label>
                            <br><br>
                            <input type="file" name="file" required/>

                        </div>

                        <!--
                        <pre id="message"></pre>
                        <script type="text/javascript">
                            document.getElementById('formFile')
                                .addEventListener('change', function() {

                                    var fr = new FileReader();
                                    fr.onload = function() {
                                        document.getElementById('message')
                                            .textContent = fr.result;
                                    }

                                    var message = fr.readAsText(this.files[0]);
                                    // console.log(message);
                                })
                        </script> -->

                        <!-- <button type="submit" class="btn btn-primary btn-block btn-lg">Submit</button> -->
                        <!-- <script> onclick="generateOutput"
                            function generateOutput() {
                                document.getElementById().innerHTML = "We need to generate the pie-chart based on the result generated here";
                            }
                        </script> -->
                        <input type="submit" class="btn btn-primary btn-block btn-lg" value="Submit">

                    </form> <br>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>


    <br>
    <br>
    <br>
    <h1 style="color: black">-----------------------------------------------------------------------------------</h1>
    <div style="text-align: center;">
        <div>

            <h3 style="color: white; text-align: center;font-size:30px; border-radius: 25px; background-color: black">How are people reacting on the Data.</h3>

        </div>
    </div>


    <div style="margin-top: 50px">
        <h1 style="color: white; text-align: center;font-size:50px">Detailed Report</h1>
        <div class="alert alert-primary" role="alert" style="height:400px">
            <h2 class="report-text">"The final processed/ analysed sentiment data from Facebook Comments."</h2>

            <h2 class="report-text">{{positive}}</h2>
            <h3 style="text-align: center;font-size:30px;">is the ratio of Positive Intensity</h3>
            <h2 class="report-text">{{negetive}}</h2>
            <h3 style="text-align: center;font-size:30px;">is the ratio of Negetive Intensity</h3>
            <h2 class="report-text">{{neutral}}</h2>
            <h3 style="text-align: center;font-size:30px;">is the ratio of Neutral Intensity</h3>
            <br><br><br><br>



        </div>
    </div>


    <canvas id="myChart" style="width:50%;max-width:600px;margin:0px 30%; color:white;">
    <center>
        
    <div id="center" class="piechart col-lg-8 offset-lg-2">
        <script>

            var positive = parseFloat(document.getElementsByClassName("report-text")[1].innerText);
            var negetive = parseFloat(document.getElementsByClassName("report-text")[2].innerText);
            var neutral = parseFloat(document.getElementsByClassName("report-text")[3].innerText);

            var xValues = ["Positive", "Negetive", "Neutral"];
            // var yValues = [positive, negetive, neutral] //data returned from the sentiment app.
            var yValues = [positive, negetive, neutral];
            var barColors = [
                "rgb(230, 9, 101)",
                "rgb(249, 72, 146)",
                "rgb(255, 161, 201)",
            ];

            new Chart("myChart", {
                type: "pie",
                data: {
                    labels: xValues,
                    datasets: [{
                        backgroundColor: barColors,
                        data: yValues
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: "Congratulations, You now gets your Expected Analysed Output Data."
                    }
                }
            });
        </script>
    </div>
    </center>
    </canvas>


    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>

</body>


</html>